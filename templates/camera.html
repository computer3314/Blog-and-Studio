{% extends 'baseVideo.html' %} 
{% block body %}
{% load static %}
    <!-- 顯示影片-->
    <div  id="videos"> 
        <div align="center"><img src="{{ url }}" id="video"></div>
    </div>
    <link href="{% static 'css/video.css' %}" rel="stylesheet" />
    <div id="popup">
        <div class="bg">
          <img src=""/>
        </div>
    <input type="hidden" id="clientground" name="variable" value="{{ url }}">
    <input type="hidden" id="urlbackground" name="variable" value="{{ urlbackground }}">
</body>
<script>
    $(function(){
     var imgs = document.getElementById("videos").getElementsByTagName("img");
    var lens = imgs.length;
    var popup = document.getElementById("popup");
    for(var i = 0; i < lens; i++){
        imgs[i].onclick = function (event){
            event = event||window.event;
            var target = document.elementFromPoint(event.clientX, event.clientY);
            showBig(target.src);
        }
    }
    popup.onclick = function (){
        popup.style.display = "none";
    }
    function showBig(src){
        popup.getElementsByTagName("img")[0].src = src;
        popup.style.display = "block";
    }
});
 //網頁背景執行，不容易斷線
    var urlbackground = document.getElementById("urlbackground").value;
    if(urlbackground!=""){
        if (/Mobi|Android|iPhone/i.test(navigator.userAgent)) {
        console.log("Mobi")
         }
         else{
            var xhr = new XMLHttpRequest();
            xhr.multipart = true; 
            xhr.open('GET', urlbackground);
            xhr.onreadystatechange = function(){
            if (xhr.readyState == 4){
                console.log("狀態已轉換")
                window.location.assign(window.location.href);
            }
        };
        xhr.send(null);
         }
        
    }
    
</script>
{% endblock %}